import{r as o,b as p,u as m,v as r,j as e,x as f,I as a}from"./index-CHEHhW-3.js";import{l as h}from"./index-CGwCSIWv.js";const N=()=>{const[d,l]=o.useState(null),s=p(),{orders:i,isLoading:c}=m(t=>t.orders);o.useEffect(()=>{const t=h("https://parakh-api.onrender.com");return t.on("orderCreated",()=>{s(r())}),t.on("orderUpdated",()=>{s(r())}),()=>{t.disconnect()}},[s]);const x=t=>{l(d===t?null:t)};return c?e.jsx("div",{className:"h-full flex flex-col justify-center items-center",children:e.jsx("img",{src:f,alt:"",className:"w-24"})}):e.jsx("div",{className:"h-full p-5 ",children:e.jsxs("div",{className:"h-full container bg-white p-5 rounded-2xl drop-shadow-xl",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("h1",{className:"text-xl font-Pacifico text-[#f2707f]",children:"All"}),e.jsx("h1",{className:"text-2xl font-Lemon font-bold text-center",children:"Transactions"})]}),e.jsxs("nav",{className:"px-10 py-5 flex justify-between border-b-2 border-dashed",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"text",placeholder:"Search",className:"text-sm font-Poppins border-b-2 border-[#767675] outline-none text-center py-1 px-3"}),e.jsx(a,{children:e.jsx("i",{className:"fi fi-br-search text-xl pt-1 px-2 text-black hover:text-[#f2707f]"})})]}),e.jsx("div",{className:"flex gap-10",children:e.jsxs("select",{name:"Method",id:"Method",className:"w-44 text-center border-2 rounded-xl text-sm font-Poppins font-medium",children:[e.jsx("option",{value:"10",children:"Show all"}),e.jsx("option",{value:"20",children:"UPI"}),e.jsx("option",{value:"30",children:"Card"})]})})]}),e.jsx("div",{className:"mt-5",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-[#f4f4f4]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-sm py-2 font-semibold font-Poppins text-[#767675]",children:"Transaction ID"}),e.jsx("th",{className:"text-sm py-2 font-semibold font-Poppins text-[#767675]",children:"Paid"}),e.jsx("th",{className:"text-sm py-2 font-semibold font-Poppins text-[#767675]",children:"Method"}),e.jsx("th",{className:"text-sm py-2 font-semibold font-Poppins text-[#767675]",children:"Status"}),e.jsx("th",{className:"text-sm py-2 font-semibold font-Poppins text-[#767675]",children:"Date & Time"}),e.jsx("th",{className:"text-sm py-2 font-semibold font-Poppins text-[#767675]",children:"Action"})]})}),e.jsx("tbody",{children:i.map(t=>{const n=new Date(t.order_updated[0].payment_time);return e.jsxs("tr",{className:"text-center border-b-2",children:[e.jsx("td",{className:"text-sm font-medium font-Poppins",children:t.order_updated[0].cf_payment_id}),e.jsx("td",{className:"text-sm font-medium font-Poppins",children:t.order_updated[0].order_amount}),e.jsx("td",{className:"text-sm font-medium font-Poppins uppercase",children:t.order_updated[0].payment_group==="upi"?"upi":"card"}),e.jsx("td",{className:"text-sm font-medium font-Poppins",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("h1",{className:`w-fit text-[12px] font-semibold px-2 py-1 rounded-full ${t.order_updated[0].payment_status==="PENDING"?"bg-[#ffe8d0] text-[#98530c]":t.order_updated[0].payment_status==="SUCCESS"?"bg-[#ccf0d1] text-[#006d0e]":"bg-[#fdcccc] text-[#920000]"}`,children:t.order_updated[0].payment_status})})}),e.jsxs("td",{className:"text-sm font-medium font-Poppins",children:[n.toLocaleDateString().replace(/\//g,"-"),",",e.jsx("br",{}),e.jsx("span",{className:"text-[12px]",children:n.toLocaleTimeString()})]}),e.jsxs("td",{className:"relative flex flex-col items-center px-2",children:[e.jsx(a,{onClick:()=>x(t.order_updated[0].cf_payment_id),children:e.jsx("i",{className:"fi fi-br-menu-dots text-base text-black hover:text-[#f2707f] pt-1 px-2"})}),d===t.order_updated[0].cf_payment_id&&e.jsxs("div",{className:"text-left w-fit p-2 bg-[#f4f4f4] flex flex-col gap-2 rounded-xl absolute top-12 z-10",children:[e.jsx("h1",{className:"text-[12px] font-Poppins font-medium cursor-pointer hover:bg-white rounded-xl px-5 py-2",children:"View Details"}),e.jsx("h1",{className:"text-[12px] font-Poppins font-medium cursor-pointer hover:bg-white rounded-xl px-5 py-2",children:"Edit"}),e.jsx("h1",{className:"text-[12px] font-Poppins font-medium cursor-pointer hover:bg-white rounded-xl px-5 py-2",children:"Delete"})]})]})]},t.id)})})]})})]})})};export{N as default};
